#include "C2XInterface.h"
#include <ti/sysbios/BIOS.h>
#include <ti/sysbios/knl/Task.h>
#include <ti/sysbios/knl/Clock.h>

#define C2X_TASK_STACK_SIZE 1024
#define C2X_TASK_PRIORITY 2

Task_Struct txTask;
static Task_Params txTaskParams;
static uint8_t txTaskStack[C2X_TASK_STACK_SIZE];

static void taskC2XFnx(UArg arg0, UArg arg1)
{
    while (1)
    {
        Task_sleep(1000 * );
        C2Xsend();
    }
}

void C2Xinit(void)
{
    Task_Params_init(&txTaskParams);
    txTaskParams.stackSize = C2X_TASK_STACK_SIZE;
    txTaskParams.priority = C2X_TASK_PRIORITY;
    txTaskParams.stack = &txTaskStack;
    txTaskParams.arg0 = (UInt)1000000;

    Task_construct(&txTask, taskC2XFnx, &txTaskParams, NULL);
}
